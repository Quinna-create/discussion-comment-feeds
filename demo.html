<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discussion Widget Demo</title>
    <link rel="stylesheet" href="widget-style.css">
</head>
<body>
    <div style="max-width: 800px; margin: 0 auto; padding: 20px;">
        <h1 style="text-align: center; color: #333; margin-bottom: 10px;">Discussion Comment Feed Widget</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            Demo with sample student comments - Configure with your Canvas discussion board for live data
        </p>

        <!-- Widget Container -->
        <div id="discussion-widget" class="widget-container">
            <div class="comment-bubble">
                <div id="commentContent" class="comment-content">
                    <div class="loading">Loading comments...</div>
                </div>
                <div class="comment-meta">
                    <span id="authorName" class="author-name"></span>
                    <span id="commentDate" class="comment-date"></span>
                </div>
            </div>
            <!-- Hidden elements for compatibility -->
            <span id="currentIndex" style="display:none;">0</span>
            <span id="totalComments" style="display:none;">0</span>
            <button id="pauseBtn" style="display:none;"></button>
            <button id="prevBtn" style="display:none;"></button>
            <button id="nextBtn" style="display:none;"></button>
            <input type="number" id="cycleInterval" style="display:none;" value="10">
        </div>

        <div style="margin-top: 30px; padding: 20px; background: #f9f9f9; border-radius: 8px;">
            <h2 style="font-size: 18px; margin-bottom: 15px; color: #333;">Getting Started</h2>
            <ol style="color: #666; line-height: 1.8;">
                <li>This demo uses sample comments to show the widget functionality</li>
                <li>Click the controls to pause/resume or navigate between comments</li>
                <li>Adjust the cycle interval to control how fast comments change</li>
                <li>To use with your Canvas course:
                    <ul style="margin-top: 8px;">
                        <li>Get your Canvas API token from Account Settings</li>
                        <li>Find your Course ID and Discussion ID from Canvas URLs</li>
                        <li>Configure the widget with your credentials (see README.md)</li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>

    <!-- Configuration Script -->
    <script>
    // Configuration: Fetch comments from Replit backend (which connects to Canvas)
    window.discussionWidgetConfig = {
        replitApiUrl: 'https://canvas-discussion-widget.quinna2.replit.app',
        courseId: '196700',      // Required: Canvas course ID
        discussionId: '6735506', // Required: Discussion topic ID
        cycleInterval: 10000,   // 10 seconds between comments
        maxComments: 50
    };
    
    // Alternative: Use mock data for offline demo
    /*
    window.discussionWidgetConfig = {
        mockData: true,
        cycleInterval: 10000
    };
    */
    </script>
    
    <script src="widget-script.js"></script>
</body>
</html>
